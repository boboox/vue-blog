---
title: ES6-Array
---

[[toc]]

# es6 Array

`Array`可以说是除了`Object`之外js中最常用的数据类型

而且它与其他语言的数组有着相当大的区别

- 没有固定的数据类型
- 没有固定的长度,可以动态调整


```js 
var a = new Array(10)
```
初始化数组的一个方式,
这会定义一个length为10的数组

::: tip 注意
array.length并不是只读的,设置length将会改变array的长度和元素
:::

## isArray

在同一个全局执行环境下 使用`instanceof`就可以得到满意的结果

但是当存在两个或者多个全局执行环境的情况下(如iframe),当一个框架中的array对象传入另一个执行环境时,

两个环境中`Array`构造函数版本不同.会导致`instanceof`的判断为false

所以ES6提供了Array.isArray()方法来判断


## 栈方法

### push & pop

数组也提供了类似于栈一样的操作方法,LIFO,先进后出

- 进栈`push`,`push`可以接受任意数量的参数,把他们逐个添加到数组末尾,并返回修改后数组的长度
- 出栈`pop`,`pop`则移除数组末尾最后一项,减少数组长度,并返回被移除的项.

## 队列方法

### push & shift

数组同样提供了类似队列的操作方法,FIFO,先进先出

- 进队列`push`,同上
- 出队列`shift`,从数组列表的头部移除一个项并返回该项

### unshift

ECMAScript 还为数组提供了`unshift`方法,顾名思义,与`shift`方法相反,
该方法从数组的前部添加任意数量的项并返回新的数组长度,


所以使用`unshift`与`pop`可以模拟一个反方向的队列操作


## 排序方法

### reverse & sort

数组中已有两个直接可以用来排序的方法:`reverse`与`sort`

`reverse`可以用来反转组数顺序
`sort`方法默认情况下会调用每个数组项的toString()方法,得到每个项的字符串表达后再进行排序.

`sort`方法可以接收一个自定义的比较函数,会传入当前比较的两个值,通过判断返回值来确定该两个项的顺序

- 0 :表示两个值相等
- 1 :表示第一个参数应该在第二个参数之后
- -1:表示第一个参数应该在第二个参数之前

## 操作方法

### concat

常用的拼接数组的方法`concat`,
concat方法会创建当前数组的一个副本,然后将参数添加到副本的结尾并返回该副本

::: tip 注意
该方法不会改变原来的数组
:::


### slice

下一个常用方法`slice`
`slice`方法可以基于当前数组中的一项或者多项创建一个新的数组,
`slice`方法接受1个或者2个参数,即返回项的起始和结束位置.

在只有起始位置的时候,结束位置为数组的末尾,
在只有结束位置的时候,起始位置为数组的开始
当起始位置和结束位置都有的时候,返回起始位置和结束位置之间的项目,但是不包含结束位置.

::: tip 注意
该方法不会改变原来的数组
:::

::: warning 特殊
slice的两个参数可以包含负数,当参数是负数的时候,需要加上数组长度来确定最终值,当最终起始位置如果大于结束位置则会返回空数组
:::

### splice (牛逼的方法)

splice方法可以说是数组方法中最强大的方法了.它有很多种用法,主要用途是向数组的中部插入项目

- **删除**
    可以删除任意数量的项目,只需要指定2个参数:要删除的`第一项的位置`和要删除的`项数`
    例如:splice(0,2)会删除数组的前两项
- **插入**
    可以在指定位置插入任意数量的项,只需要传入:起始位置,0(删除的项数),要插入的项1,项2 ...
    例如:splice(2,0,'a','b'),会在2的位置后插入a,b两项
- **替换**
    替换则是在插入的基础上,将删除数量改为需要删除或者替换的数量,当删除数量与插入数量一致是,相当于替换功能

::: tip 注意
该方法会改变原来的数组,并且每次都会返回被剔除的项目的数组,如果没有删除任何项,则返回空数组
:::

## 位置方法

### indexOf

`indexOf`方法提供了两个参数,要查找的项和起始查找位置(默认0),返回第一个匹配项在数组中的位置,找不到返回-1

如果给了位置参数,在该位置之后匹配不到项则一样返回-1

例如:array.indexOf(5,5)

### lastIndexOf

`lastIndexOf`与`indexOf`不同的是,它从数组末尾开始往前查找,

方法提供了两个参数,要查找的项和起始查找位置(默认末尾),返回第一个匹配项在数组中的位置,找不到返回-1

如果给了位置参数,在该位置开始往前,匹配不到项则一样返回-1

例如:array.lastIndexOf(5,5)

## 迭代方法

所有迭代方法都不会改变原有数组

### every

对数组中的每一项运行给定函数,如果该函数对每一项都返回true,则返回true

### filter

对数组中的每一项运行给定函数,返回该函数会返回true的项组成的数组

### forEach

对数组中的每一项运行给定函数,无返回值

### map

对数组中的每一项运行给定函数,返回每次函数调用结果组成的数组

### some

对数组中的每一项运行给定函数,任何一项运算结果为true则返回true

## 归并方法

### reduce

`reduce`归并方法会迭代所有数组项,然后构建最终返回的值.

接受两个参数:在每一个项上调用的函数与(可选)作为归并基础的初始值

这个函数接受4个参数,分别是:前一个函数执行返回值(初始值),当前值,当前索引,数组

::: tip 注意
当未给定初始值的时候,第一次递归的初始值为数组第一个元素,当前值为第二个元素
:::

### reduceRight

`reduceRight`与`reduce`的区别在于它是从数组末尾开始往前递归
